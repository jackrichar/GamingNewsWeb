"use strict";(self.webpackChunkgaming_news_website_school_project=self.webpackChunkgaming_news_website_school_project||[]).push([[659],{659:(e,s,a)=>{a.r(s),a.d(s,{default:()=>C});var o=a(483);const n={InputComponent:"InputComponent_InputComponent__vaDd6",InputComponent__label:"InputComponent_InputComponent__label__2RD7+",InputComponent__input:"InputComponent_InputComponent__input__FTEoi",InputComponent__input__error:"InputComponent_InputComponent__input__error__VW1sI",InputComponent__error:"InputComponent_InputComponent__error__Hehhg"};var t=a(723);const r=e=>{let{label:s,name:a,type:o="text",value:r,onChange:l,error:m,placeholder:i}=e;const c=[n.InputComponent__input,m?n.InputComponent__input__error:""].join(" ");return(0,t.jsxs)("div",{className:n.InputComponent,children:[(0,t.jsx)("label",{htmlFor:a,className:n.InputComponent__label,children:s}),(0,t.jsx)("input",{id:a,name:a,type:o,value:r,onChange:l,placeholder:i,className:c}),m&&(0,t.jsx)("span",{className:n.InputComponent__error,children:m})]})},l="LoginPage_container__Vp7KA",m="LoginPage_AuthForm__3o80y",i="LoginPage_AuthForm__title__bJGye",c="LoginPage_AuthForm__tabs__QgSr7",p="LoginPage_AuthForm__tab__wglGP",u="LoginPage_AuthForm__tab__active__GimJ8",_="LoginPage_AuthForm__form__-2Gus",d="LoginPage_AuthForm__password__miURI",g="LoginPage_AuthForm__flexInput__qYEPF",h="LoginPage_AuthForm__submit__w-RAG",w="LoginPage_AuthForm__toggle__dUwAW",f="LoginPage_AuthForm__toggleButton__+tMVX";var I=a(664),b=a.n(I);const C=()=>{const[e,s]=(0,o.useState)(!0),[a,n]=(0,o.useState)({email:"",password:""}),[I,C]=(0,o.useState)({name:"",email:"",password:"",confirmPassword:""}),[j,x]=(0,o.useState)({email:"",password:""}),[N,S]=(0,o.useState)({name:"",email:"",password:"",confirmPassword:""}),[v,P]=(0,o.useState)(null),y={name:/^[a-zA-Z\u0622-\u06cc\s]{2,}$/,email:/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/,password:/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/};(0,o.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("loggedInUsers")||"[]");e.length>0&&P(e[0])}),[]);const A=e=>{const{name:s,value:o}=e.target;n({...a,[s]:o});const t=J(s,o,{...a,[s]:o});x((e=>({...e,[s]:t})))},F=e=>{const{name:s,value:a}=e.target;C({...I,[s]:a});const o=J(s,a,{...I,[s]:a});S((e=>({...e,[s]:o})))},J=(s,a,o)=>{if(!a&&("confirmPassword"!==s||!e))return"\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a";if("name"===s&&a&&!y.name.test(a))return"\u0646\u0627\u0645 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 \u06f2 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0648 \u0641\u0642\u0637 \u0634\u0627\u0645\u0644 \u062d\u0631\u0648\u0641 \u0628\u0627\u0634\u062f";if("email"===s&&a&&!y.email.test(a))return"\u0644\u0637\u0641\u0627\u064b \u0627\u06cc\u0645\u06cc\u0644 \u0645\u0639\u062a\u0628\u0631 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f";if("email"===s&&a&&!e){if(JSON.parse(localStorage.getItem("users")||"[]").some((e=>e.email===a)))return"\u0627\u06cc\u0646 \u0627\u06cc\u0645\u06cc\u0644 \u0642\u0628\u0644\u0627\u064b \u062b\u0628\u062a \u0634\u062f\u0647 \u0627\u0633\u062a"}return"password"===s&&a&&!y.password.test(a)?"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 \u06f8 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631\u060c \u0634\u0627\u0645\u0644 \u062d\u0631\u0641 \u0628\u0632\u0631\u06af\u060c \u06a9\u0648\u0686\u06a9 \u0648 \u0639\u062f\u062f \u0628\u0627\u0634\u062f":"confirmPassword"===s&&a&&a!==o.password?"\u062a\u0623\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u062f\u0627\u0631\u062f":""},O=()=>{const e=new Event("storageUpdate");window.dispatchEvent(e)},L=o=>{if(o.preventDefault(),e){const e={email:"",password:""};if(["email","password"].forEach((s=>{e[s]=J(s,a[s],a)})),x(e),!Object.values(e).some((e=>e))){const e=JSON.parse(localStorage.getItem("users")||"[]").find((e=>e.email===a.email&&e.password===a.password));if(e){const s=JSON.parse(localStorage.getItem("loggedInUsers")||"[]");s.some((e=>e.email===a.email))||(s.push(e),localStorage.setItem("loggedInUsers",JSON.stringify(s)),O()),P(e),b().fire({title:`\u062e\u0648\u0634 \u0622\u0645\u062f\u06cc\u062f\u060c ${e.name}!`,icon:"success",confirmButtonText:"\u0628\u0627\u0634\u0647",customClass:{confirmButton:"my-swal-button"}}),n({email:"",password:""}),x({email:"",password:""})}else x((e=>({...e,email:"\u0627\u06cc\u0645\u06cc\u0644 \u06cc\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a"})))}}else{const e={name:"",email:"",password:"",confirmPassword:""};if(["name","email","password","confirmPassword"].forEach((s=>{e[s]=J(s,I[s],I)})),S(e),!Object.values(e).some((e=>e))){const e={name:I.name,email:I.email,password:I.password},a=JSON.parse(localStorage.getItem("users")||"[]");a.push(e),localStorage.setItem("users",JSON.stringify(a));const o=JSON.parse(localStorage.getItem("loggedInUsers")||"[]");o.some((e=>e.email===I.email))||(o.push(e),localStorage.setItem("loggedInUsers",JSON.stringify(o)),O()),P(e),b().fire({title:"\u062b\u0628\u062a\u200c\u0646\u0627\u0645 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f!",icon:"success",confirmButtonText:"\u0628\u0627\u0634\u0647",customClass:{confirmButton:"my-swal-button"}}),C({name:"",email:"",password:"",confirmPassword:""}),S({name:"",email:"",password:"",confirmPassword:""}),s(!0)}}};return(0,t.jsx)("div",{className:l,children:(0,t.jsx)("div",{className:m,children:v?(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:i,children:"\u062e\u0648\u0634 \u0622\u0645\u062f\u06cc\u062f!"}),(0,t.jsxs)("p",{children:["\u0634\u0645\u0627 \u0628\u0627 \u0627\u06cc\u0645\u06cc\u0644 ",v.email," \u0648\u0627\u0631\u062f \u0634\u062f\u0647\u200c\u0627\u06cc\u062f."]}),(0,t.jsx)("button",{type:"button",onClick:()=>{const e=JSON.parse(localStorage.getItem("loggedInUsers")||"[]").filter((e=>e.email!==(null===v||void 0===v?void 0:v.email)));localStorage.setItem("loggedInUsers",JSON.stringify(e)),O(),P(null),n({email:"",password:""}),C({name:"",email:"",password:"",confirmPassword:""}),x({email:"",password:""}),S({name:"",email:"",password:"",confirmPassword:""}),b().fire({title:"\u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062e\u0627\u0631\u062c \u0634\u062f\u06cc\u062f!",icon:"info",confirmButtonText:"\u0628\u0627\u0634\u0647",customClass:{confirmButton:"my-swal-button"}})},className:h,children:"\u062e\u0631\u0648\u062c"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:i,children:e?"\u0648\u0631\u0648\u062f":"\u062b\u0628\u062a\u200c\u0646\u0627\u0645"}),(0,t.jsxs)("div",{className:c,children:[(0,t.jsx)("button",{type:"button",className:`${p} ${e?u:""}`,onClick:()=>s(!0),children:"\u0648\u0631\u0648\u062f"}),(0,t.jsx)("button",{type:"button",className:`${p} ${e?"":u}`,onClick:()=>s(!1),children:"\u062b\u0628\u062a\u200c\u0646\u0627\u0645"})]}),e?(0,t.jsxs)("form",{className:_,onSubmit:L,children:[(0,t.jsx)(r,{label:"\u0627\u06cc\u0645\u06cc\u0644",name:"email",value:a.email,onChange:A,error:j.email,placeholder:"\u0627\u06cc\u0645\u06cc\u0644 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,t.jsx)(r,{label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",name:"password",type:"password",value:a.password,onChange:A,error:j.password,placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,t.jsx)("button",{type:"submit",className:h,children:"\u0648\u0631\u0648\u062f"})]}):(0,t.jsxs)("form",{className:_,onSubmit:L,children:[(0,t.jsx)(r,{label:"\u0646\u0627\u0645",name:"name",value:I.name,onChange:F,error:N.name,placeholder:"\u0646\u0627\u0645 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,t.jsx)(r,{label:"\u0627\u06cc\u0645\u06cc\u0644",name:"email",value:I.email,onChange:F,error:N.email,placeholder:"\u0627\u06cc\u0645\u06cc\u0644 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,t.jsxs)("div",{className:d,children:[(0,t.jsx)("div",{className:g,children:(0,t.jsx)(r,{label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",name:"password",type:"password",value:I.password,onChange:F,error:N.password,placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})}),(0,t.jsx)("div",{className:g,children:(0,t.jsx)(r,{label:"\u062a\u0623\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",name:"confirmPassword",type:"password",value:I.confirmPassword,onChange:F,error:N.confirmPassword,placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})})]}),(0,t.jsx)("button",{type:"submit",className:h,children:"\u062b\u0628\u062a\u200c\u0646\u0627\u0645"})]}),(0,t.jsxs)("p",{className:w,children:[e?"\u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0646\u062f\u0627\u0631\u06cc\u062f\u061f":"\u0642\u0628\u0644\u0627\u064b \u062b\u0628\u062a\u200c\u0646\u0627\u0645 \u06a9\u0631\u062f\u0647\u200c\u0627\u06cc\u062f\u061f",(0,t.jsx)("button",{type:"button",onClick:()=>{s(!e)},className:f,children:e?"\u062b\u0628\u062a\u200c\u0646\u0627\u0645 \u06a9\u0646\u06cc\u062f":"\u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f"})]})]})})})}}}]);
//# sourceMappingURL=659.b76563bd.chunk.js.map